@using Microsoft.AspNetCore.Mvc.Localization
@model IEnumerable<Order>
@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["Orders"];
}

<div class="text-center">
    <h1 class="display-4">@ViewData["Title"]</h1>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>@Localizer["Order ID"]</th>
                <th>@Localizer["Order Date"]</th>
                <th>@Localizer["Company Name"]</th>
                <th>@Localizer["Country"]</th>
                <th>@Localizer["Item Count"]</th>
                <th>@Localizer["Order Total"]</th>
            </tr>
        </thead>
        <tbody>
        @foreach (Order order in Model)
        {
            <tr>
                <td>@order.OrderId</td>
                <td>@order.OrderDate?.ToString("D")</td>
                <td>@order.Customer?.CompanyName</td>
                <td>@order.Customer?.Country</td>
                <td>@order.OrderDetails.Count()</td>
                <td>@order.OrderDetails.Sum(detail => detail.Quantity * detail.UnitPrice).ToString("C")</td>
            </tr>
        }            
        </tbody>
    </table>
</div>
